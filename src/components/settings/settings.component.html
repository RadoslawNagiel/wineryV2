<ion-button (click)="displayModal.set(true)">
    <ion-icon slot="icon-only" icon="settings-outline"></ion-icon>
</ion-button>

<ion-modal [isOpen]="displayModal()" (ionModalWillDismiss)="displayModal.set(false)">
    <ng-template>
        <ion-header>
            <ion-toolbar>
                <ion-title>Ustawienia</ion-title>
                <ion-buttons slot="start">
                    <ion-button (click)="displayModal.set(false)">
                        <ion-icon slot="icon-only" icon="close-outline"></ion-icon>
                    </ion-button>
                </ion-buttons>
            </ion-toolbar>
        </ion-header>
        <ion-content class="ion-padding">
            <div class="flex flex-col gap-4">
                <ion-list>
                    <ion-item>
                        <ion-icon icon="sunny-outline" class="mr-4"></ion-icon>
                        <ion-toggle [checked]="themeService.mode() === 'dark'" (ionChange)="themeService.toggleMode()">Motyw ciemny</ion-toggle>
                    </ion-item>
                </ion-list>

                <ion-list>
                    <ion-item [button]="true" (click)="backupService.saveData()">
                        <ion-icon name="download-outline" class="mr-4"></ion-icon>
                        <ion-label>Eksportuj dane</ion-label>
                    </ion-item>

                    <ion-item [button]="true" (click)="openFileInput()">
                        <ion-icon name="folder-open-outline" class="mr-4"></ion-icon>
                        <ion-label>Importuj dane</ion-label>
                    </ion-item>
                    <input class="hidden" type="file" id="file-upload" accept=".json" (change)="onFileSelected($event)" />
                </ion-list>

                <ion-list>
                    <a href="mailto:nagiel.dev@gmail.com">
                        <ion-item>
                            <ion-icon name="mail-outline" class="mr-4"></ion-icon>
                            <ion-label>Zgłoś błąd</ion-label>
                        </ion-item>
                    </a>
                </ion-list>
            </div>
            <div class="absolute bottom-4 right-4 opacity-50">{{ version() }}</div>
        </ion-content>
    </ng-template>
</ion-modal>
